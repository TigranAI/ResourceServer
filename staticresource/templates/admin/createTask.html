<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" th:href="@{~/styles/main.css}">
    <link rel="stylesheet" th:href="@{~/styles/index.css}">
    <link rel="stylesheet" th:href="@{~/styles/scroller.css}">
    <link rel="stylesheet" th:href="@{~/styles/taskFormatting.css}">
    <title>Дистанционный практикум | Создать задачу</title>
</head>
<body class="text-center text-white bg-dark">
<div class="page">
    <th:block th:insert="blocks :: header"/>
    <main class="main-container h-100">
        <div class="d-flex flex-row flex-nowrap h-100">
            <button class="btn btn-dark me-2 border-light shadow-none h-50 my-auto" id="prev" style="z-index: 1">&lt;
            </button>
            <div class="w-100 d-flex flex-column h-100" id="page0" style="height: 80vh">
                <h4 class="mb-3">Запишите условие задачи с использованием HTML разметки</h4>
                <div class="d-flex flex-row h-100">
                    <div class="w-50 h-100 form-floating h-100 d-flex flex-column me-1">
                        <h6>Условие задачи</h6>
                        <textarea
                                class="p-2 border border-light rounded bg-dark shadow-none text-light scroller-y h-100 no-resize"
                                id="taskContent"></textarea>
                    </div>
                    <div class="w-50 h-100 form-floating h-100 d-flex flex-column ms-1">
                        <h6>Предпросмотр</h6>
                        <div class="p-2 border border-light rounded bg-dark shadow-none text-light flex-grow-1 scroller-y task-description text-start"
                             id="preview" style="height: max-content">
                        </div>
                    </div>
                </div>
            </div>
            <div class="w-100 jq-hide" id="page1" style="height: 80vh">
                <h4 class="mb-3">Добавьте входные данные для тестов</h4>
                <div class="d-flex flex-row h-100">
                    <div class="w-50 h-100 form-floating h-100 d-flex flex-column me-1">
                        <h6>Входные данные</h6>
                        <textarea class="p-2 border border-light rounded bg-dark shadow-none text-light scroller-y flex-grow-1 no-resize"
                                  id="test"></textarea>
                        <button class="btn btn-dark shadow-none border-light w-100 mt-2" id="addTest">Добавить&gt;&gt;</button>
                        <button class="btn btn-dark shadow-none border-light w-100 mt-2" id="clearInput">Очистить
                        </button>
                    </div>
                    <div class="w-50 h-100 form-floating h-100 d-flex flex-column ms-1">
                        <h6>Список тестов</h6>
                        <ul class="list-group scroller-y h-100 text-start" id="testList">
                        </ul>
                    </div>
                </div>
            </div>
            <div class="w-100 jq-hide" id="page2" style="height: 80vh">
                <h4 class="mb-3">Напишите решение задачи на любом доступном языке</h4>
                <div class="d-flex flex-row h-100">
                    <div class="w-50 h-100 form-floating h-100 d-flex flex-column me-1">
                        <h6>Результаты тестов</h6>
                        <ul class="list-group scroller-y h-100 text-start" id="resultTestList">
                        </ul>
                    </div>
                    <div class="w-50 h-100 form-floating d-flex flex-column text-start ms-1">
                        <div class="editor-content flex-grow-1 d-flex flex-column" id="monacoEditor"></div>
                        <button class="btn btn-dark mt-2 border-light shadow-none w-100 rounded-0" id="checkTests">
                            <span class="spinner-border spinner-border-sm visually-hidden" role="status" aria-hidden="true"
                                  id="checkTestsSpinner"></span>
                            Запуск
                        </button>
                    </div>
                </div>
            </div>
            <div class="w-100 jq-hide d-flex flex-column" id="page3" style="height: 73vh">
                <h4 class="mb-3">Опубликуйте вашу задачу</h4>
                <div class="d-flex flex-row h-100">
                    <div class="w-50 h-100 form-floating h-100 d-flex flex-column me-1">
                        <h6>Список требований</h6>
                        <ul class="list-group scroller-y h-100 text-start" id="checkList">
                        </ul>
                    </div>
                    <div class="w-50 h-100 form-floating d-flex flex-column ms-1">
                        <h6>Результаты тестов</h6>
                        <ul class="list-group scroller-y h-100 text-start" id="publishTests">
                        </ul>
                    </div>
                </div>
                <button class="btn-lg btn-dark border-light shadow-none mt-3 w-100" id="publish">Опубликовать</button>
            </div>
            <button class="btn btn-dark ms-2 border-light shadow-none h-50 my-auto" id="next" style="z-index: 1">&gt;
            </button>
        </div>
    </main>
    <th:block th:insert="blocks :: footer"/>
    <script th:src="@{~/js/createTask.js}"></script>
    <script defer>$('#monacoEditor').load(`/editor/single`)</script>
</div>
</body>
</html>